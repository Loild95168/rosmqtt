<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>MQTT æ§åˆ¶ ROS</title>
  <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
</head>
<body>
  <h2>ğŸ“± æ§åˆ¶é¢æ¿</h2>
  <button onclick="send('forward')">å‰é€²</button>
  <button onclick="send('backward')">å¾Œé€€</button>
  <button onclick="send('stop')">åœæ­¢</button>

  <div id="status"></div>

  <script>
    const client = mqtt.connect("wss://t2bac0a0.ala.asia-southeast1.emqxsl.com:8084/mqtt", {
      username: "ä½ çš„å¸³è™Ÿï¼ˆå¯é¸ï¼‰",
      password: "ä½ çš„å¯†ç¢¼ï¼ˆå¯é¸ï¼‰"
    });

    client.on("connect", () => {
      document.getElementById("status").innerText = "âœ… å·²é€£ä¸Š MQTT Broker";
    });

    function send(cmd) {
      const payload = {
        command: cmd,
        client_time: new Date().toISOString()
      };
      client.publish("ros/control", JSON.stringify(payload));
      console.log("ğŸ“¤ ç™¼é€æŒ‡ä»¤ï¼š", payload);
    }
  </script>
</body>
</html>

